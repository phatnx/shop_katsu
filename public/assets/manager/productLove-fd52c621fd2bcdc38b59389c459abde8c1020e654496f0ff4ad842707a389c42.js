function productLove(t){var e=this,o={template:{productLove:$("#product-love-template")},api:{love:"/api/v1/love",unlove:"/api/v1/unlove",api_token:Cookies.get("api_token")},data:{}};e.settings=$.extend({},o,t),e.clickLove=function(){$(document).on("click","#heart",function(){$(this).toggleClass("red"),product_id=$(this).attr("product-id"),$.ajax({url:e.settings.api.love,headers:{Authorization:"Bearer "+e.settings.api.api_token},type:"POST",data:{token:e.settings.api.api_token,product_id:product_id},dataType:"json",success:function(t){if(200==t.code){$(".product_love").html("");var o=Handlebars.compile(e.settings.template.productLove.html());$(".product_love").append(o({productLove:t.data.product_favorite}))}else console.log("error")},error:function(){}})})},e.unLove=function(){$(document).on("click","#heart-red",function(){$(this).attr("id","heart"),product_id=$(this).attr("product-id"),$.ajax({url:e.settings.api.unlove,headers:{Authorization:"Bearer "+e.settings.api.api_token},type:"DELETE",data:{token:e.settings.api.api_token,product_id:product_id},dataType:"json",success:function(t){200==t.code||console.log("error")},error:function(){}})})},e.init=function(){e.clickLove(),e.unLove()}}$(document).ready(function(){p_love=new productLove,p_love.init()});